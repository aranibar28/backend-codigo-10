{% extends "main.html" %}
{% block content %}
<h1>Libros</h1>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>#</th>
      <th><a href="/books/?order=title">Titulo</a></th>
      <th><a href="/books/?order=author">Autor</a></th>
      <th><a href="/books/?order=editorial">Editorial</a></th>
      <th><a href="/books/?order=pub_date">Fecha Publicacion</a></th>
      <th>Modal</th>
      <th>Vistas basadas en</th>
    </tr>
  </thead>
  <tbody>
    {% for book in books %}
    <tr>
      <td>{{book.id}}</td>
      <td>{{book.title}}</td>
      <td>{{book.author}}</td>
      <td>{{book.editorial}}</td>
      <td>{{book.pub_date}}</td>
      <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#book_{{book.id}}">Modal</button></td>
      <td>
        <a href="/book/{{book.id}}/">Function</a> |
        <a href="/book2/{{book.id}}/">Clase</a> |
        <a href="/book3/{{book.id}}/">Genérica</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
  <!-- Modal -->
  {% for book in books %}
  <div class="modal fade" id="book_{{book.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">{{book.title}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul>
            <li>
                <b>Titulo: </b>{{book.title}}
            </li>
            <li>
                <b>Autor: </b>{{book.author}}
            </li>
            <li>
                <b>Editorial: </b>{{book.editorial}}
            </li>
            <li>
                <b>Publicación: </b>{{book.pub_date}}
            </li>
        </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</table>
{% endblock %}
